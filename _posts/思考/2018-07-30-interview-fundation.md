---
layout: post
title:  Interview Summary(基础)
date:   2018-07-30 19:15:10
categories:  思考
tags: 面经
keywords: interview
description: 
---

## forward和redirect区别
* forward是服务器内部的重定向，服务器直接访问目标地址的 url网址，把里面的东西读取出来，但是客户端并不知道，因此用forward的话，客户端浏览器的网址是不会发生变化的。
* redirect是客户端的重定向，是完全的跳转。即服务器返回的一个url给客户端浏览器,并返回3xx，然后客户端浏览器会重新发送一次请求，到新的url里面，因此浏览器中显示的url网址会发生变化。 

## 301和302的区别
* 301 redirect: 代表永久性转移(Permanently Moved) 301表示旧地址A的资源已经被永久地移除了（这个资源不可访问了），搜索引擎在抓取新内容的同时也将旧的网址交换为重定向之后的网址；
* 302 redirect: 代表暂时性转移(Temporarily Moved) 302表示旧地址A的资源还在（仍然可以访问），这个重定向只是临时地从旧地址A跳转到地址B，搜索引擎会抓取新的内容而保存旧的网址。

## GET POST的区别
GET请求的参数都放在URL里，所以参数是直接暴露的；而POST是通过request body 来传递参数的。
GET 的URL可以人肉手输，POST不能。
```
GET 请求可被缓存
GET 请求保留在浏览器历史记录中
GET 请求可被收藏为书签
GET 请求不应在处理敏感数据时使用
GET 请求有长度限制
GET 请求只应当用于取回数据
```
```
post 刷新请求会被重新提交
POST 请求不会被缓存
POST 请求不会保留在浏览器历史记录中
POST 不能被收藏为书签
POST 请求对数据长度没有要求
```
POST比GET安全一点点。。但是面对抓包工具还是没用，还是老实用HTTPS吧。

## Http报文
* 1.Http请求报文
```
1.请求行
2.请求头
3.请求体
```
![enter image description here](http://p7lixluhf.bkt.clouddn.com/http1.jpg)

* 2.Http响应报文
```
1.响应行
2.响应头
3.响应体
```
![enter image description here](http://p7lixluhf.bkt.clouddn.com/http2.jpg)

## HTTP1.0与HTTP1.1区别

## tcp流量控制
* 1.利用滑动窗口实现流量控制 

设A向B发送数据。在连接建立时，B告诉了A：“我的接收窗口是 rwnd = 400 ”(这里的 rwnd 表示 receiver window) 。因此，发送方的发送窗口不能超过接收方给出的接收窗口的数值。请注意，TCP的窗口单位是字节。超过了滑动窗口就不再能继续传输。

* 2.必须考虑传输速率 


可以用不同的机制来控制TCP报文段的发送时机。如： 

a. TCP维持一个变量，它等于最大报文段长度MSS。只要缓存中存放的数据达到MSS字节时，就组装成一个TCP报文段发送出去。 


b. TCP为每一个连接设有一个持续计时器(persistence timer)。只要TCP连接的一方收到对方的零窗口通知，就启动持续计时器。若持续计时器设置的时间到期，就发送一个零窗口控测报文段（携1字节的数据），那么收到这个报文段的一方就重新设置持续计时器。

发送方的一个计时器期限到了，这时就把已有的缓存数据装入报文段(但长度不能超过MSS)发送出去。

## tcp拥塞控制

拥塞控制：防止过多的数据注入到网络中，这样可以防止网络中的路由器或链路过载。

拥塞控制所要做的都有一个前提：网络能够承受现有的网络负荷拥塞控制是一个全局性的过程。

几种拥塞控制方法 ：慢开始( slow-start )、拥塞避免( congestion avoidance )、快重传( fast retransmit )和快恢复( fast recovery )。

* 1.慢开始

主机开始发送数据时，如果立即所大量数据字节注入到网络，那么就有可能引起网络拥塞，因为现在并不清楚网络的负荷情况。因此，较好的方法是先探测一下，即由小到大逐渐增大发送窗口，也就是说，由小到大逐渐增大拥塞窗口数值。

通常在刚刚开始发送报文段时，先把拥塞窗口 cwnd 设置为一个最大报文段MSS的数值。每经过一个传输轮次，拥塞窗口 cwnd 就**加倍**。

* 2.拥塞避免算法

为了防止拥塞窗口cwnd增长过大引起网络拥塞，还需要设置一个**慢开始门限**ssthresh状态变量。
```
当 cwnd < ssthresh 时，使用上述的慢开始算法。
当 cwnd > ssthresh 时，停止使用慢开始算法而改用拥塞避免算法。
```
让拥塞窗口cwnd缓慢地增大，即每经过一个往返时间就把发送方的拥塞窗口cwnd加1，而不是加倍。这样拥塞窗口cwnd按线性规律缓慢增长，比慢开始算法的拥塞窗口增长速率缓慢得多。

无论在慢开始阶段还是在拥塞避免阶段，只要发送方判断网络出现拥塞（其根据就是没有收到确认），就要把慢开始门限ssthresh设置为出现拥塞时的发送方窗口值的一半（但不能小于2）。然后把拥塞窗口cwnd重新设置为1，执行慢开始算法。

![](http://p7lixluhf.bkt.clouddn.com/20170701115508163.png)

* 3.快重传和快恢复


一条TCP连接有时会因等待重传计时器的超时而空闲较长的时间，慢开始和拥塞避免无法很好的解决这类问题，因此提出了快重传和快恢复的拥塞控制方法。

a.TCP在收到3个同样的ACK的时候会启动快重传，立即重传丢失的报文段。（如果当发送端接收到三个重复的确认ACK时，则断定分组丢失，立即重传丢失的报文段，而不必等待重传计时器超时）


b.快恢复当发送端收到连续三个重复的 ACK 时，就将cwnd减半，然后把慢开始门限减半，这是为了预防网络发生拥塞。
```
快恢复做的两件事
1. cwnd = cwnd/2 
2. sshthresh = cwnd 
```
## Linux查看端口的指令
```
netstat -tunlp|grep 端口号
```
* -t (tcp)仅显示tcp相关选项
* -u (udp)仅显示udp相关选项
* -n 拒绝显示别名，能显示数字的全部转化成数字。
* -l 仅列出有在 Listen (监听) 的服務状态
* -p 显示建立相关链接的程序名
## Linux查看最新日志指令
```
tail -f 日志名称
```
tail是看日志的最后几行
